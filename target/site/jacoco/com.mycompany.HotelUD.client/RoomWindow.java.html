<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>RoomWindow.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">HotelUD</a> &gt; <a href="index.source.html" class="el_package">com.mycompany.HotelUD.client</a> &gt; <span class="el_source">RoomWindow.java</span></div><h1>RoomWindow.java</h1><pre class="source lang-java linenums">package com.mycompany.HotelUD.client;

import java.awt.BorderLayout;
import java.awt.EventQueue;

import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.border.EmptyBorder;
import javax.swing.JScrollPane;
import javax.swing.JLabel;
import javax.swing.JList;
import javax.swing.JOptionPane;
import javax.swing.SwingConstants;
import javax.swing.border.SoftBevelBorder;
import javax.swing.border.BevelBorder;
import javax.swing.UIManager;
import javax.swing.JSplitPane;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.ArrayList;
import java.util.Iterator;

import javax.swing.DefaultListModel;
import javax.swing.JButton;
import javax.swing.JTabbedPane;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;

import com.mycompany.HotelUD.BBDD.BBDD;
import com.mycompany.HotelUD.classes.Room;
import javax.swing.JTextField;

public class RoomWindow extends JFrame {

	private JPanel contentPane;
	private JTable table;
	private JTextField textField;
	private JTextField textField_1;
	private JTextField textField_2;
	private JTextField textField_3;
	private JTextField textField_4;
<span class="nc" id="L46">	ArrayList&lt;Room&gt; al = new ArrayList&lt;&gt;();</span>
	private java.sql.Connection conexion;
<span class="nc" id="L48">	BBDD baseDatos = new BBDD();</span>
	

<span class="nc" id="L51">	public RoomWindow() {</span>
<span class="nc" id="L52">		setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);</span>
<span class="nc" id="L53">		setBounds(100, 100, 539, 300);</span>
<span class="nc" id="L54">		contentPane = new JPanel();</span>
<span class="nc" id="L55">		contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));</span>
<span class="nc" id="L56">		contentPane.setLayout(new BorderLayout(0, 0));</span>
<span class="nc" id="L57">		setContentPane(contentPane);</span>
<span class="nc" id="L58">		setVisible(true);</span>
		
<span class="nc" id="L60">		JLabel lblNewLabel = new JLabel(&quot;HABITACIONES&quot;);</span>
<span class="nc" id="L61">		lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);</span>
<span class="nc" id="L62">		contentPane.add(lblNewLabel, BorderLayout.NORTH);</span>
		
<span class="nc" id="L64">		JButton btnNewButton = new JButton(&quot;BACK&quot;);</span>
<span class="nc" id="L65">		contentPane.add(btnNewButton, BorderLayout.SOUTH);</span>
<span class="nc" id="L66">		btnNewButton.addActionListener(new ActionListener() {</span>
			
			@Override
			public void actionPerformed(ActionEvent e) {
				// TODO Auto-generated method stub
<span class="nc" id="L71">				new MenuAdminWindow();</span>
<span class="nc" id="L72">				dispose();</span>
<span class="nc" id="L73">			}</span>
		});
		
<span class="nc" id="L76">		JPanel panel = new JPanel();</span>
<span class="nc" id="L77">		contentPane.add(panel, BorderLayout.CENTER);</span>
<span class="nc" id="L78">		panel.setLayout(null);</span>
		
<span class="nc" id="L80">		JPanel panel_1 = new JPanel();</span>
<span class="nc" id="L81">		panel_1.setBorder(new SoftBevelBorder(BevelBorder.LOWERED, UIManager.getColor(&quot;List.selectionBackground&quot;), null, null, null));</span>
<span class="nc" id="L82">		panel_1.setBounds(251, 11, 252, 125);</span>
<span class="nc" id="L83">		panel.add(panel_1);</span>
<span class="nc" id="L84">		panel_1.setLayout(null);</span>
		
<span class="nc" id="L86">		JScrollPane scrollPane = new JScrollPane();</span>
<span class="nc" id="L87">		scrollPane.setBounds(0, 0, 252, 125);</span>
<span class="nc" id="L88">		panel_1.add(scrollPane);</span>
		
<span class="nc" id="L90">		DefaultListModel&lt;Room&gt; modelRoom = new DefaultListModel&lt;Room&gt;();</span>
<span class="nc" id="L91">		JList lista = new JList&lt;Room&gt;(modelRoom);</span>
		
<span class="nc" id="L93">		scrollPane.setViewportView(lista);</span>
		
<span class="nc" id="L95">		JPanel panel_2 = new JPanel();</span>
<span class="nc" id="L96">		panel_2.setBorder(new SoftBevelBorder(BevelBorder.LOWERED, UIManager.getColor(&quot;List.selectionBackground&quot;), null, null, null));</span>
<span class="nc" id="L97">		panel_2.setBounds(0, 0, 229, 203);</span>
<span class="nc" id="L98">		panel.add(panel_2);</span>
<span class="nc" id="L99">		panel_2.setLayout(null);</span>
		
<span class="nc" id="L101">		JLabel lblNewLabel_1 = new JLabel(&quot;Room number&quot;);</span>
<span class="nc" id="L102">		lblNewLabel_1.setBounds(10, 11, 119, 14);</span>
<span class="nc" id="L103">		panel_2.add(lblNewLabel_1);</span>
		
<span class="nc" id="L105">		JLabel lblNewLabel_2 = new JLabel(&quot;Type&quot;);</span>
<span class="nc" id="L106">		lblNewLabel_2.setBounds(10, 36, 46, 14);</span>
<span class="nc" id="L107">		panel_2.add(lblNewLabel_2);</span>
		
<span class="nc" id="L109">		JLabel lblNewLabel_3 = new JLabel(&quot;Floor&quot;);</span>
<span class="nc" id="L110">		lblNewLabel_3.setBounds(10, 61, 46, 14);</span>
<span class="nc" id="L111">		panel_2.add(lblNewLabel_3);</span>
		
<span class="nc" id="L113">		JLabel lblNewLabel_4 = new JLabel(&quot;Surface&quot;);</span>
<span class="nc" id="L114">		lblNewLabel_4.setBounds(10, 86, 46, 14);</span>
<span class="nc" id="L115">		panel_2.add(lblNewLabel_4);</span>
		
<span class="nc" id="L117">		JLabel lblNewLabel_5 = new JLabel(&quot;Price&quot;);</span>
<span class="nc" id="L118">		lblNewLabel_5.setBounds(10, 111, 46, 14);</span>
<span class="nc" id="L119">		panel_2.add(lblNewLabel_5);</span>
		
<span class="nc" id="L121">		textField = new JTextField();</span>
<span class="nc" id="L122">		textField.setBounds(139, 8, 80, 20);</span>
<span class="nc" id="L123">		panel_2.add(textField);</span>
<span class="nc" id="L124">		textField.setColumns(10);</span>
		
<span class="nc" id="L126">		textField_1 = new JTextField();</span>
<span class="nc" id="L127">		textField_1.setColumns(10);</span>
<span class="nc" id="L128">		textField_1.setBounds(139, 33, 80, 20);</span>
<span class="nc" id="L129">		panel_2.add(textField_1);</span>
		
<span class="nc" id="L131">		textField_2 = new JTextField();</span>
<span class="nc" id="L132">		textField_2.setColumns(10);</span>
<span class="nc" id="L133">		textField_2.setBounds(139, 58, 80, 20);</span>
<span class="nc" id="L134">		panel_2.add(textField_2);</span>
		
<span class="nc" id="L136">		textField_3 = new JTextField();</span>
<span class="nc" id="L137">		textField_3.setColumns(10);</span>
<span class="nc" id="L138">		textField_3.setBounds(139, 83, 80, 20);</span>
<span class="nc" id="L139">		panel_2.add(textField_3);</span>
		
<span class="nc" id="L141">		textField_4 = new JTextField();</span>
<span class="nc" id="L142">		textField_4.setColumns(10);</span>
<span class="nc" id="L143">		textField_4.setBounds(139, 108, 80, 20);</span>
<span class="nc" id="L144">		panel_2.add(textField_4);</span>
		
<span class="nc" id="L146">		JButton btnNewButton_1 = new JButton(&quot;ADD&quot;);</span>
<span class="nc" id="L147">		btnNewButton_1.setBounds(74, 154, 89, 23);</span>
<span class="nc" id="L148">		panel_2.add(btnNewButton_1);</span>
		
		try {
<span class="nc" id="L151">			conexion = DriverManager.getConnection(&quot;jdbc:mysql://127.0.0.1:3306/hotel&quot;,&quot;root&quot;,&quot;1234&quot;);</span>
<span class="nc" id="L152">			System.out.println( &quot;Successfully connected to the database&quot;);</span>
<span class="nc" id="L153">		} catch (SQLException e) {</span>
<span class="nc" id="L154">			System.out.println(&quot;Error connecting to database &quot;);</span>
<span class="nc" id="L155">			e.printStackTrace();</span>
<span class="nc" id="L156">		}</span>
		
<span class="nc" id="L158">		btnNewButton_1.addActionListener(new ActionListener() {</span>
			
			@Override
			public void actionPerformed(ActionEvent arg0) {
				// TODO Auto-generated method stub
				
<span class="nc bnc" id="L164" title="All 2 branches missed.">				if (textField.getText().equals(&quot;&quot;)) {</span>
<span class="nc" id="L165">					JOptionPane.showMessageDialog(btnNewButton_1, &quot;Error. It is necessary to add a room number&quot;,</span>
							&quot;data creation&quot;, JOptionPane.ERROR_MESSAGE);
				} else {

					try {
						
						Integer number;
						String type;
						int surface;
						int floor;
		
<span class="nc" id="L176">						number = (int) Integer.parseInt(textField.getText());</span>
<span class="nc" id="L177">						type = (String) textField_1.getText();</span>
<span class="nc" id="L178">						surface = (int) Integer.parseInt(textField_2.getText());</span>
<span class="nc" id="L179">						floor = (int) Integer.parseInt(textField_3.getText());</span>
		
<span class="nc" id="L181">						Room v = new Room(number, type, surface, floor);</span>
					
<span class="nc" id="L183">						modelRoom.addElement(v);</span>
<span class="nc" id="L184">						al.add(v);</span>
						
<span class="nc" id="L186">						String query = &quot;INSERT INTO room (numberDoor, type, surface, floor) values( '&quot;+number+&quot;','&quot;+type+&quot;','&quot;+surface+&quot;','&quot;+floor+&quot;')&quot;;</span>
						
<span class="nc" id="L188">						Statement stmt = conexion.createStatement();</span>
<span class="nc" id="L189">						stmt.execute(query);</span>
						
<span class="nc" id="L191">						JOptionPane.showMessageDialog(null, &quot;Product added successfully&quot;);</span>
						
<span class="nc" id="L193">						textField.setText(&quot;&quot;);</span>
<span class="nc" id="L194">						textField_1.setText(&quot;&quot;);</span>
<span class="nc" id="L195">						textField_2.setText(&quot;&quot;);</span>
<span class="nc" id="L196">						textField_3.setText(&quot;&quot;);</span>
<span class="nc" id="L197">						textField_4.setText(&quot;&quot;);</span>
							
<span class="nc" id="L199">				}catch (SQLException e) {</span>
<span class="nc" id="L200">					System.out.println(&quot;Error entering data into the database&quot;);</span>
<span class="nc" id="L201">					e.printStackTrace();</span>
<span class="nc" id="L202">				}</span>
				}
						
<span class="nc" id="L205">			}</span>
		});
		
<span class="nc" id="L208">		JButton btnNewButton_2 = new JButton(&quot;ASSIGN&quot;);</span>
<span class="nc" id="L209">		btnNewButton_2.addActionListener(new ActionListener() {</span>
			public void actionPerformed(ActionEvent e) {
<span class="nc" id="L211">				new AsigClientRoomWindow();</span>
<span class="nc" id="L212">			}</span>
		});
		
<span class="nc" id="L215">		btnNewButton_2.setBounds(261, 155, 89, 23);</span>
<span class="nc" id="L216">		panel.add(btnNewButton_2);</span>
		
		
		
<span class="nc" id="L220">		JButton btnNewButton_3 = new JButton(&quot;DELETE&quot;);</span>
<span class="nc" id="L221">		btnNewButton_3.setBounds(414, 155, 89, 23);</span>
<span class="nc" id="L222">		panel.add(btnNewButton_3);</span>
		
		
<span class="nc" id="L225">		ArrayList&lt;Room&gt; listaRooms = baseDatos.getRooms();</span>
		
<span class="nc bnc" id="L227" title="All 2 branches missed.">		for (int i = 0; i &lt; listaRooms.size(); i++) {</span>
			
<span class="nc" id="L229">			modelRoom.addElement(listaRooms.get(i));</span>
			
		}
		
<span class="nc" id="L233">	}</span>
	
	
	
	
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>